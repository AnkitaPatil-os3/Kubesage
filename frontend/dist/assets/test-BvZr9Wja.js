import{k as A,r as g,v as L,o as n,l as r,b as o,w as a,e as l,t as f,m as y,a as u,F as w,x as h,c as k,T as M,B as P,s as V}from"./index-Bby_nErz.js";import{a as x}from"./axios-CCb-kr4I.js";import{N as F}from"./text-BM-U9Ls2.js";const $={class:"flex flex-wrap gap-4 p-4"},D={key:0,class:"mt-4 p-4 bg-green-500 text-white rounded-lg"},I={key:1},S={class:"card-container flex flex-col gap-4 mt-10"},j={class:"flex justify-between items-center"},R={key:2},W={class:"category-container flex flex-wrap gap-4 mt-4"},K={__name:"test",setup(q){const C=A(),m=g([]),i=g(""),v=g(!1),b=[{name:"Compliance",url:"/compliance"},{name:"File Integrity Monitoring",url:"/fileIntegrity"},{name:"Mitre Attack",url:"/mitreAttack"},{name:"Windows Event Logs",url:"/windowsEvent"},{name:"Summary",url:"/summary"}],p=async()=>{try{const t=await x.get("/api/v1/plugins/");m.value=t.data.filter(e=>e.activated)}catch(t){console.error("Error fetching activated plugins:",t)}},E=async t=>{try{const e=await x.delete(`/api/v1/plugins/${t}/deactivate/`);i.value=e.data.message,p()}catch(e){console.error("Error deactivating plugin:",e)}finally{setTimeout(()=>{i.value=""},5e3)}},B=t=>{C.push(t)},N=()=>{v.value=!v.value};return L(()=>{p()}),(t,e)=>{const d=F,T=P,c=V;return n(),r("div",$,[o(c,{class:"p-4 w-full shadow-md rounded-lg"},{default:a(()=>[o(d,{class:"text-lg font-bold"},{default:a(()=>e[0]||(e[0]=[l("Currently Activated Plugins")])),_:1}),i.value?(n(),r("div",D,f(i.value),1)):y("",!0),m.value.length>0?(n(),r("div",I,[u("div",S,[(n(!0),r(w,null,h(m.value,s=>(n(),k(c,{class:"hover-card p-4 shadow-md rounded-lg w-100",key:s.id,hoverable:""},{default:a(()=>[u("div",j,[o(d,{class:"text-lg font-bold",onClick:N},{default:a(()=>[l(f(s.name),1)]),_:2},1024),o(T,{type:"warning",onClick:_=>E(s.id)},{default:a(()=>e[1]||(e[1]=[l("Deactivate")])),_:2},1032,["onClick"])])]),_:2},1024))),128))])])):(n(),r("div",R,e[2]||(e[2]=[u("p",null,"No plugins are activated.",-1)])))]),_:1}),o(M,{name:"category-transition",onBeforeEnter:t.beforeEnter,onEnter:t.enter,onLeave:t.leave},{default:a(()=>[v.value?(n(),k(c,{key:0,class:"p-4 w-full shadow-md rounded-lg mt-10"},{default:a(()=>[o(d,{class:"text-lg font-bold"},{default:a(()=>e[3]||(e[3]=[l("Categories")])),_:1}),u("div",W,[(n(),r(w,null,h(b,(s,_)=>o(c,{key:_,class:"category-card hover-card p-4 shadow-md rounded-lg w-1/3",hoverable:"",onClick:z=>B(s.url)},{default:a(()=>[o(d,{class:"text-md font-semibold"},{default:a(()=>[l(f(s.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))])]),_:1})):y("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave"])])}}};export{K as default};
