import{d as V,hr as B,r as d,m as j,o as w,c as A,w as n,i as F,e,g as o,B as i,f as l,az as u,hT as S,l as q}from"./index-BdUTWwbS.js";import{_ as G}from"./add-one-BE64EMVI.js";import{_ as H}from"./CopyText.vue_vue_type_script_setup_true_lang-bQoN179g.js";import{f as I}from"./system-iXn0uc5Z.js";import{u as J}from"./dict-DIxKmz_N.js";import{_ as D}from"./DictModal.vue_vue_type_script_setup_true_lang-BSPZUgT2.js";import{N as x,_ as K}from"./Popconfirm-CqorWuAl.js";import"./FormItem-HvJ2BmDO.js";import"./InputNumber-B8kyAtFq.js";import"./Checkbox-DOCh64z2.js";import"./Radio-CdMCgcPL.js";import"./RadioGroup-CVgq5Ckq.js";import"./Pagination-Bp2oGMeK.js";const O={class:"basis-2/5"},Q={class:"flex-1"},de=V({__name:"index",setup(U){const{bool:L,setTrue:$,setFalse:z}=B(!1),{bool:N,setTrue:M,setFalse:R}=B(!1),{getDictByNet:T}=J(),r=d(),c=d();j(()=>{_()});const f=d([]),m=d([]);async function _(){$();const{data:t,isSuccess:a}=await I();a&&(f.value=t),z()}const s=d("");async function p(t){M(),m.value=await T(t),s.value=t,R()}const E=[{title:"字典项",key:"label"},{title:"字典码",key:"code",render:t=>e(H,{value:t.code},null)},{title:"操作",key:"actions",align:"center",render:t=>e(u,{justify:"center"},{default:()=>[e(i,{size:"small",onClick:()=>p(t.code)},{default:()=>[l("查看字典")]}),e(i,{size:"small",onClick:()=>r.value.openModal("edit",t)},{default:()=>[l("编辑")]}),e(x,{onPositiveClick:()=>g(t.id)},{default:()=>e("span",null,[l("确认删除字典"),e("b",null,[t.label])," ",l("？")]),trigger:()=>e(i,{size:"small",type:"error"},{default:()=>[l("删除")]})})]})}],P=[{title:"字典名称",key:"label"},{title:"字典码",key:"code"},{title:"字典值",key:"value"},{title:"操作",key:"actions",align:"center",width:"15em",render:t=>e(u,{justify:"center"},{default:()=>[e(i,{size:"small",onClick:()=>c.value.openModal("edit",t)},{default:()=>[l("编辑")]}),e(x,{onPositiveClick:()=>g(t.id)},{default:()=>e("span",null,[l("确认删除字典值"),e("b",null,[t.label])," ",l("？")]),trigger:()=>e(i,{size:"small",type:"error"},{default:()=>[l("删除")]})})]})}];function g(t){window.$message.error(`删除字典${t}`)}return(t,a)=>{const y=G,k=S,C=K,b=q;return w(),A(o(u),null,{default:n(()=>[F("div",O,[e(b,null,{header:n(()=>[e(o(i),{type:"primary",onClick:a[0]||(a[0]=v=>o(r).openModal("add"))},{icon:n(()=>[e(y)]),default:n(()=>[a[3]||(a[3]=l(" 新建 "))]),_:1})]),"header-extra":n(()=>[e(o(u),null,{default:n(()=>[e(o(i),{type:"primary",secondary:"",onClick:_},{icon:n(()=>[e(k)]),default:n(()=>[a[4]||(a[4]=l(" 刷新 "))]),_:1})]),_:1})]),default:n(()=>[e(C,{columns:E,data:o(f),loading:o(L),pagination:!1,bordered:!1},null,8,["data","loading"])]),_:1})]),F("div",Q,[e(b,null,{header:n(()=>[e(o(i),{type:"primary",disabled:!o(s),onClick:a[1]||(a[1]=v=>o(c).openModal("add"))},{icon:n(()=>[e(y)]),default:n(()=>[a[5]||(a[5]=l(" 新建 "))]),_:1},8,["disabled"])]),"header-extra":n(()=>[e(o(u),null,{default:n(()=>[e(o(i),{type:"primary",disabled:!o(s),secondary:"",onClick:a[2]||(a[2]=v=>p(o(s)))},{icon:n(()=>[e(k)]),default:n(()=>[a[6]||(a[6]=l(" 刷新 "))]),_:1},8,["disabled"])]),_:1})]),default:n(()=>[e(C,{columns:P,data:o(m),loading:o(N),pagination:!1,bordered:!1},null,8,["data","loading"])]),_:1})]),e(D,{ref_key:"dictRef",ref:r,"modal-name":"字典项","is-root":""},null,512),e(D,{ref_key:"dictContentRef",ref:c,"modal-name":"字典值","dict-code":o(s)},null,8,["dict-code"])]),_:1})}}});export{de as default};
