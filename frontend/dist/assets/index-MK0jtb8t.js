import{bc as z,o as g,a as R,i as p,d as $,hr as j,r as _,m as P,i0 as V,c as F,w as o,e as n,g as a,B as l,f as i,H as S,i1 as A,N as D,J as E,hT as H,az as K,l as L,gz as O}from"./index-BdUTWwbS.js";import{_ as I}from"./add-one-BE64EMVI.js";import{_ as J}from"./CopyText.vue_vue_type_script_setup_true_lang-bQoN179g.js";import{c as U}from"./system-iXn0uc5Z.js";import{_ as q}from"./TableModal.vue_vue_type_script_setup_true_lang-B9CzhIN9.js";import{N as k,_ as G}from"./Popconfirm-CqorWuAl.js";import"./IconSelect.vue_vue_type_script_setup_true_lang-BIe2J8_r.js";import"./Pagination-Bp2oGMeK.js";import"./Checkbox-DOCh64z2.js";import"./FormItemGridItem-DZOk8wCA.js";import"./Grid-DzHw3MPy.js";import"./FormItem-HvJ2BmDO.js";import"./Radio-CdMCgcPL.js";import"./RadioGroup-CVgq5Ckq.js";import"./InputNumber-B8kyAtFq.js";const Q={style:{display:"inline-block"},viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"};function W(r,s){return g(),R("svg",Q,s[0]||(s[0]=[p("g",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"4"},[p("path",{"stroke-linecap":"round",d:"M8 11h32M18 5h12"}),p("path",{d:"M12 17h24v23a3 3 0 0 1-3 3H15a3 3 0 0 1-3-3z"}),p("path",{"stroke-linecap":"round",d:"m20 25l8 8m0-8l-8 8"})],-1)]))}const X=z({name:"icon-park-outline-delete-five",render:W});function Y(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!O(r)}const _e=$({__name:"index",setup(r){const{bool:s,setTrue:w,setFalse:h}=j(!1);function v(e){window.$message.success(`删除菜单id:${e}`)}const u=_(),T=[{type:"selection",width:30},{title:"名称",key:"name",width:200},{title:"图标",align:"center",key:"icon",width:"6em",render:e=>e.icon&&A(e.icon,{size:20})},{title:"标题",align:"center",key:"title",ellipsis:{tooltip:!0}},{title:"路径",key:"path",render:e=>n(J,{value:e.path},null)},{title:"组件路径",key:"componentPath",ellipsis:{tooltip:!0},render:e=>e.componentPath||"-"},{title:"排序值",key:"order",align:"center",width:"6em"},{title:"菜单类型",align:"center",key:"menuType",width:"6em",render:e=>{const t=e.menuType||"page";return n(D,{type:{dir:"primary",page:"warning"}[t]},Y(t)?t:{default:()=>[t]})}},{title:"操作",align:"center",key:"actions",width:"15em",render:e=>n(E,{justify:"center"},{default:()=>[n(l,{size:"small",onClick:()=>u.value.openModal("view",e)},{default:()=>[i("查看")]}),n(l,{size:"small",onClick:()=>u.value.openModal("edit",e)},{default:()=>[i("编辑")]}),n(k,{onPositiveClick:()=>v(e.id)},{default:()=>"确认删除",trigger:()=>n(l,{size:"small",type:"error"},{default:()=>[i("删除")]})})]})}],m=_([]);P(()=>{f()});async function f(){w();const{data:e}=await U();m.value=V(e),h()}const c=_([]);async function b(){window.$message.success(`批量删除id:${c.value.join(",")}`)}return(e,t)=>{const y=I,x=H,C=X,B=K,M=G,N=L;return g(),F(N,null,{header:o(()=>[n(a(l),{type:"primary",onClick:t[0]||(t[0]=d=>a(u).openModal("add"))},{icon:o(()=>[n(y)]),default:o(()=>[t[2]||(t[2]=i(" 新建 "))]),_:1})]),"header-extra":o(()=>[n(B,null,{default:o(()=>[n(a(l),{type:"primary",secondary:"",onClick:f},{icon:o(()=>[n(x)]),default:o(()=>[t[3]||(t[3]=i(" 刷新 "))]),_:1}),n(a(k),{onPositiveClick:b},{trigger:o(()=>[n(a(l),{type:"error",secondary:""},{icon:o(()=>[n(C)]),default:o(()=>[t[4]||(t[4]=i(" 批量删除 "))]),_:1})]),default:o(()=>[t[5]||(t[5]=i(" 确认删除所有选中菜单？ "))]),_:1})]),_:1})]),default:o(()=>[n(M,{"checked-row-keys":a(c),"onUpdate:checkedRowKeys":t[1]||(t[1]=d=>S(c)?c.value=d:null),"row-key":d=>d.id,columns:T,data:a(m),loading:a(s),size:"small","scroll-x":1200},null,8,["checked-row-keys","row-key","data","loading"]),n(q,{ref_key:"tableModalRef",ref:u,"all-routes":a(m),"modal-name":"菜单"},null,8,["all-routes"])]),_:1})}}});export{_e as default};
