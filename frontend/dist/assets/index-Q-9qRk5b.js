import{a as J}from"./axios-CCb-kr4I.js";import{j,z as Y,r as S,v as z,o as _,l as g,b as o,w as c,u as l,e as E,a,F as D,x as L,t as w,s as I,y as H,L as b,B as U,m as k}from"./index-Bby_nErz.js";import{N as x}from"./text-BM-U9Ls2.js";const X={class:"flex flex-wrap gap-4 p-4"},Z={class:"flex flex-col gap-6 w-full mt-4"},ee={class:"text-lg font-bold mb-2"},ae={class:"flex flex-wrap gap-4"},se={class:"d-flex"},te=["src"],oe={class:"font-semibold"},le={key:0,class:"modal-overlay"},ne={class:"modal-container"},re={class:"mt-4"},de={class:"mb-4 d-flex"},ie={class:"mb-4 d-flex"},pe={class:"mb-4 d-flex"},me={class:"mb-4 d-flex"},ue={class:"mb-4 d-flex"},ce={key:1,class:"modal-overlay"},ve={class:"modal-container"},_e={class:"mt-4"},ge={class:"mb-4 d-flex"},be={class:"mb-4 d-flex"},Se={class:"mb-4 d-flex"},fe={key:2,class:"flex mt-6 w-full"},he={class:"mt-4"},$e={class:"w-full table-auto border-collapse"},Ae={class:"border p-2"},Pe={class:"border p-2"},Ee={class:"border p-2"},we={class:"border p-2"},Me={__name:"index",setup(Re){const p=JSON.parse(localStorage.getItem("keycloakId")).value,y=Y();console.log("Keycloak ID:",p);const B={"Operating Systems":[{name:"Linux",icon:"https://img.icons8.com/color/48/linux--v1.png"},{name:"Windows",icon:"https://img.icons8.com/color/48/windows-10.png"}],"Containers & Orchestration":[{name:"Kubernetes",icon:"https://img.icons8.com/color/48/kubernetes.png"},{name:"Docker",icon:"https://img.icons8.com/fluency/48/docker.png"}],Databases:[{name:"PostgreSQL",icon:"https://img.icons8.com/color/48/postgreesql.png"},{name:"MySQL",icon:"https://img.icons8.com/fluency/48/mysql-logo.png"},{name:"Microsoft SQL Server",icon:"https://img.icons8.com/color/48/microsoft-sql-server.png"},{name:"Oracle DB",icon:"https://img.icons8.com/color/48/oracle-logo.png"},{name:"MongoDB",icon:"https://img.icons8.com/color/48/mongodb.png"}],Applications:[{name:"Application - Java",icon:"https://img.icons8.com/fluency/48/java-coffee-cup-logo.png"}]},f=void 0,r=void 0,u=void 0,v=S(""),M=S(!1),h=S(!1),C=S(!1),N=S([]),d=S(""),n=S({dbName:"",dbIp:"",dbPort:"",dbUsername:"",dbPassword:""}),G={Linux:`curl -o omega-agent_linux-v3.sh http://${u}/omega-agent_linux-v3.sh && OMEGA_UID=${p} METRIC_SRV="http://${r}:9090/api/v1/write" LOGS_SRV="http://${r}:3100/loki/api/v1/push" OMEGA_BACK_SRV="https://${f}:8000/api/v1/agents/" bash ./omega-agent_linux-v3.sh`,Windows:`curl -o "$env:USERPROFILE/Downloads/omega-agent_windows-v2.ps1" http://${u}/omega-agent_windows-v2.ps1; if (Test-Path "$env:USERPROFILE/Downloads/omega-agent_windows-v2.ps1") { & "$env:USERPROFILE/Downloads/omega-agent_windows-v2.ps1" -KeycloakId "${p}" -AgentName "Windows" -IPAddress "${f}" -prometheus "${r}" -loki "${r}" } else { Write-Host "Failed to download omega-agent_windows-v2.ps1." }`,Kubernetes:`helm repo add omega-stable http://${u}/omega-k8s-monitoring/ && helm repo update && helm install omega-k8s-monitoring --namespace omega-monitoring --create-namespace --set agentDeployment.omegaUid="${p}" --set cluster.name="MyCluster" --set agentDeployment.agentName="Kubernetes" --set agentDeployment.apiEndpoint="https://${f}/api/v1/agents/" --set externalServices.prometheus.host="http://${r}:9090" --set externalServices.loki.host="http://${r}:3100" --set externalServices.tempo.host="http://${r}:3200" omega-stable/omega-k8s-monitoring`,Docker:`curl -o omega-agent_docker-v1.sh http://${u}/omega-agent_docker-v1.sh && OMEGA_UID=${p} OMEGA_BACK_SRV="https://${f}:8000/api/v1/agents/"   METRIC_SRV="http://${r}:9090/api/v1/write" LOGS_SRV="http://${r}:3100/loki/api/v1/push" bash ./omega-agent_docker-v1.sh`},Q=t=>{v.value=t,console.log("Selected Agent:",t);const e=["PostgreSQL","MySQL","Microsoft SQL Server","Oracle DB","MongoDB"],s=["Linux","Windows","Kubernetes","Docker"];e.includes(t)?M.value=!0:M.value=!1,s.includes(t)?(d.value=G[t],h.value=!1):t.includes("Java")||t==="JVM"||t==="Spring Boot"?(h.value=!0,d.value=""):(h.value=!1,d.value="")},T=()=>{const{dbName:t,dbIp:e,dbPort:s,dbUsername:m,dbPassword:i,appName:R,appIp:O,appPort:F}=n.value,$=`https://${f}:8000/api/v1/agents/`,A=`http://${r}:9090/api/v1/write`,P=`http://${r}:3100/loki/api/v1/push`,W=`http://${r}:4317`;v.value==="PostgreSQL"?d.value=`curl -o omega-agent_postgresql-v1.sh http://${u}/omega-agent_postgresql-v1.sh && OMEGA_UID=${p} OMEGA_BACK_SRV="${$}" METRIC_SRV="${A}" LOGS_SRV="${P}" PSQL_USERNAME="${m}" PSQL_PASSWORD="${i}" PSQL_DB_NAME="${t}" PSQL_IP="${e}" PSQL_PORT="${s}" bash ./omega-agent_postgresql-v1.sh`:v.value==="MySQL"?d.value=`curl -o omega-agent_mysql-v1.sh http://${u}/omega-agent_mysql-v1.sh && OMEGA_UID=${p} OMEGA_BACK_SRV="${$}" METRIC_SRV="${A}" LOGS_SRV="${P}" MY_SQL_USERNAME="${m}" MY_SQL_PASSWORD="${i}" MY_SQL_DB_NAME="${t}" MY_SQL_IP="${e}" MY_SQL_PORT="${s}" bash ./omega-agent_mysql-v1.sh`:v.value==="Microsoft SQL Server"?d.value=`curl -o omega-agent_ms-sql-v1.sh http://${u}/omega-agent_ms-sql-v1.sh && OMEGA_UID=${p} OMEGA_BACK_SRV="${$}" METRIC_SRV="${A}" LOGS_SRV="${P}" MS_SQL_USERNAME="${m}" MS_SQL_PASSWORD="${i}" MS_SQL_DB_NAME="${t}" MS_SQL_IP="${e}" MS_SQL_PORT="${s}" bash ./omega-agent_ms-sql-v1.sh`:v.value==="Oracle DB"?d.value=`curl -o omega-agent_oracle_db-v1.sh http://${u}/omega-agent_oracle_db-v1.sh && OMEGA_UID=${p} OMEGA_BACK_SRV="${$}" METRIC_SRV="${A}" LOGS_SRV="${P}" ORACLE_DB_USERNAME="${m}" ORACLE_DB_PASSWORD="${i}" ORACLE_DB_NAME="${t}" ORACLE_DB_IP="${e}" ORACLE_DB_PORT="${s}" bash ./omega-agent_oracle_db-v1.sh`:v.value==="MongoDB"&&(d.value=`curl -o omega-agent_mongo_db-v1.sh http://${u}/omega-agent_mongo_db-v1.sh && OMEGA_UID=${p} OMEGA_BACK_SRV="${$}" METRIC_SRV="${A}" LOGS_SRV="${P}" MON_SQL_USERNAME="${m}" MON_SQL_PASSWORD="${i}" MON_SQL_DB_NAME="${t}" MON_SQL_IP="${e}" MON_SQL_PORT="${s}" bash ./omega-agent_mongo_db-v1.sh`),v.value==="Application - Java"&&(d.value=`curl -o omega-agent_app-java-v1.sh http://${u}/omega-agent_app-java-v1.sh && OMEGA_UID=${p} METRIC_SRV="${A}" OMEGA_BACK_SRV="${$}" LOGS_SRV="${P}" TRACE_SRV="${W}" APP_NAME="${R}" APP_IP="${O}" APP_PORT="${F}" bash ./omega-agent_app-java-v1.sh`),M.value=!1},q=()=>{const{appName:t,appIp:e,appPort:s}=n.value,m=`https://${f}:8000/api/v1/agents/`,i=`http://${r}:9090/api/v1/write`,R=`http://${r}:3100/loki/api/v1/push`,O=`http://${r}:4317`;v.value==="Application - Java"&&(d.value=`curl -o omega-agent_app-java-v1.sh http://${u}/omega-agent_app-java-v1.sh && OMEGA_UID=${p} METRIC_SRV="${i}" OMEGA_BACK_SRV="${m}" LOGS_SRV="${R}" TRACE_SRV="${O}" APP_NAME="${t}" APP_IP="${e}" APP_PORT="${s}" bash ./omega-agent_app-java-v1.sh`),h.value=!1},K=()=>{const t=d.value;t&&navigator.clipboard.writeText(t).then(()=>{C.value=!0,y.success("Command copied to clipboard!"),setTimeout(()=>{C.value=!1},3e3)}).catch(e=>{y.error("Failed to copy command."),console.error("Error copying command:",e)})},V=()=>{M.value=!1,h.value=!1};return z(async()=>{try{const t=await J.get("/api/v1/agents/");N.value=t.data}catch(t){console.error("Error fetching agent details:",t)}}),(t,e)=>(_(),g("div",X,[o(l(I),{class:"p-4 w-full md:w-4/4 shadow-md rounded-lg"},{default:c(()=>[o(l(x),{class:"text-lg font-bold"},{default:c(()=>e[11]||(e[11]=[E("Agents")])),_:1}),a("div",Z,[(_(),g(D,null,L(B,(s,m)=>a("div",{key:m},[a("h2",ee,w(m),1),a("div",ae,[(_(!0),g(D,null,L(s,(i,R)=>(_(),g("div",{key:R},[o(l(I),{class:H(["hover-card w-70",{"selected-card":v.value===i.name,"activated-card":v.value===i.name}]),onClick:O=>Q(i.name)},{default:c(()=>[a("div",se,[a("img",{src:i.icon,alt:"Agent Icon",class:"mr-2",style:{width:"40px",height:"40px"}},null,8,te),a("span",oe,w(i.name),1)])]),_:2},1032,["class","onClick"])]))),128))])])),64))]),M.value?(_(),g("div",le,[a("div",ne,[o(l(I),{class:"p-4 shadow-md rounded-lg"},{default:c(()=>[o(l(x),{class:"text-lg font-bold"},{default:c(()=>e[12]||(e[12]=[E("Enter Database Details")])),_:1}),a("button",{class:"close-modal-btn",onClick:V},"✖"),a("form",null,[a("div",re,[a("div",de,[e[13]||(e[13]=a("label",{for:"dbName",class:"block text-sm font-medium w-1/3"},"Database Name",-1)),o(l(b),{value:n.value.dbName,"onUpdate:value":e[0]||(e[0]=s=>n.value.dbName=s),id:"dbName",placeholder:"Enter Database Name",required:"",class:"w-2/3"},null,8,["value"])]),a("div",ie,[e[14]||(e[14]=a("label",{for:"dbIp",class:"block text-sm font-medium w-1/3"},"DB Server Address",-1)),o(l(b),{value:n.value.dbIp,"onUpdate:value":e[1]||(e[1]=s=>n.value.dbIp=s),id:"dbIp",placeholder:"Enter Database IP",required:"",class:"w-2/3"},null,8,["value"])]),a("div",pe,[e[15]||(e[15]=a("label",{for:"dbPort",class:"block text-sm font-medium w-1/3"},"DB IP Port",-1)),o(l(b),{value:n.value.dbPort,"onUpdate:value":e[2]||(e[2]=s=>n.value.dbPort=s),id:"dbPort",placeholder:"Enter Database Port",required:"",class:"w-2/3"},null,8,["value"])]),a("div",me,[e[16]||(e[16]=a("label",{for:"dbUsername",class:"block text-sm font-medium w-1/3"},"Username",-1)),o(l(b),{value:n.value.dbUsername,"onUpdate:value":e[3]||(e[3]=s=>n.value.dbUsername=s),id:"dbUsername",placeholder:"Enter Username",required:"",class:"w-2/3"},null,8,["value"])]),a("div",ue,[e[17]||(e[17]=a("label",{for:"dbPassword",class:"block text-sm font-medium w-1/3"},"Password",-1)),o(l(b),{value:n.value.dbPassword,"onUpdate:value":e[4]||(e[4]=s=>n.value.dbPassword=s),id:"dbPassword",placeholder:"Enter Password",required:"",type:"password",class:"w-2/3"},null,8,["value"])])]),o(l(U),{type:"primary","html-type":"submit",class:"mt-4",onClick:e[5]||(e[5]=s=>T())},{default:c(()=>e[18]||(e[18]=[E("Generate Command")])),_:1})])]),_:1})])])):k("",!0),h.value?(_(),g("div",ce,[a("div",ve,[o(l(I),{class:"p-4 shadow-md rounded-lg"},{default:c(()=>[o(l(x),{class:"text-lg font-bold"},{default:c(()=>e[19]||(e[19]=[E("Enter Java Application Details")])),_:1}),a("button",{class:"close-modal-btn",onClick:V},"✖"),a("form",null,[a("div",_e,[a("div",ge,[e[20]||(e[20]=a("label",{for:"appName",class:"block text-sm font-medium w-1/3"},"Application Name",-1)),o(l(b),{value:n.value.appName,"onUpdate:value":e[6]||(e[6]=s=>n.value.appName=s),id:"appName",placeholder:"Enter Application Name",required:"",class:"w-2/3"},null,8,["value"])]),a("div",be,[e[21]||(e[21]=a("label",{for:"appIp",class:"block text-sm font-medium w-1/3"},"Application IP",-1)),o(l(b),{value:n.value.appIp,"onUpdate:value":e[7]||(e[7]=s=>n.value.appIp=s),id:"appIp",placeholder:"Enter Application IP",required:"",class:"w-2/3"},null,8,["value"])]),a("div",Se,[e[22]||(e[22]=a("label",{for:"appPort",class:"block text-sm font-medium w-1/3"},"Application Port",-1)),o(l(b),{value:n.value.appPort,"onUpdate:value":e[8]||(e[8]=s=>n.value.appPort=s),id:"appPort",placeholder:"Enter Application Port",required:"",class:"w-2/3"},null,8,["value"])])]),o(l(U),{type:"primary","html-type":"submit",class:"mt-4",onClick:e[9]||(e[9]=s=>q())},{default:c(()=>e[23]||(e[23]=[E("Generate Command")])),_:1})])]),_:1})])])):k("",!0),d.value?(_(),g("div",fe,[o(l(b),{modelValue:d.value,"onUpdate:modelValue":e[10]||(e[10]=s=>d.value=s),class:"dark:text-gray-800 border-gray-400 resize-none placeholder-gray-800",type:"textarea",readonly:"",placeholder:d.value,style:{"--n-placeholder-color":"#6b7280",width:"100%",height:"120px"},onClick:K},null,8,["modelValue","placeholder"])])):k("",!0)]),_:1}),o(l(I),{class:"p-4 w-full md:w-4/4 shadow-md rounded-lg mt-6"},{default:c(()=>[o(l(x),{class:"text-lg font-bold"},{default:c(()=>e[24]||(e[24]=[E("Agent Details")])),_:1}),a("div",he,[a("table",$e,[e[25]||(e[25]=a("thead",null,[a("tr",null,[a("th",{class:"border p-2"},"Host Name"),a("th",{class:"border p-2"},"IP Address"),a("th",{class:"border p-2"},"Agent Name"),a("th",{class:"border p-2"},"Status")])],-1)),a("tbody",null,[(_(!0),g(D,null,L(N.value,(s,m)=>(_(),g("tr",{key:m},[a("td",Ae,w(s.host_name),1),a("td",Pe,w(s.ip_port),1),a("td",Ee,w(s.agent_name),1),a("td",we,w(s.status),1)]))),128))])])])]),_:1})]))}},ke=j(Me,[["__scopeId","data-v-f1b32988"]]);export{ke as default};
