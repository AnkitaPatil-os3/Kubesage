import{d as S,hw as B,r as d,v as T,o as V,c as j,w as n,a as F,b as e,u as o,B as i,e as l,aC as u,hS as A,s as q}from"./index-Bby_nErz.js";import{_ as G}from"./add-one-CxMGIzmB.js";import{_ as H}from"./CopyText.vue_vue_type_script_setup_true_lang-CU8GJ_Jq.js";import{f as I}from"./system-CjcTgpJ9.js";import{u as J}from"./dict-CE45dYLF.js";import{_ as D}from"./DictModal.vue_vue_type_script_setup_true_lang-B0_xtycl.js";import{N as x,_ as K}from"./Popconfirm-BFx8WBS7.js";import"./FormItem-KNfBvfja.js";import"./InputNumber-B_O9WtSz.js";import"./Checkbox-CFwGEPhd.js";import"./Radio-DDnoaPXB.js";import"./RadioGroup-Dd85Rny4.js";import"./Pagination-CMuqSNax.js";const O={class:"basis-2/5"},Q={class:"flex-1"},de=S({__name:"index",setup(U){const{bool:L,setTrue:$,setFalse:N}=B(!1),{bool:z,setTrue:M,setFalse:R}=B(!1),{getDictByNet:w}=J(),r=d(),c=d();T(()=>{m()});const f=d([]),_=d([]);async function m(){$();const{data:t,isSuccess:a}=await I();a&&(f.value=t),N()}const s=d("");async function p(t){M(),_.value=await w(t),s.value=t,R()}const E=[{title:"字典项",key:"label"},{title:"字典码",key:"code",render:t=>e(H,{value:t.code},null)},{title:"操作",key:"actions",align:"center",render:t=>e(u,{justify:"center"},{default:()=>[e(i,{size:"small",onClick:()=>p(t.code)},{default:()=>[l("查看字典")]}),e(i,{size:"small",onClick:()=>r.value.openModal("edit",t)},{default:()=>[l("编辑")]}),e(x,{onPositiveClick:()=>g(t.id)},{default:()=>e("span",null,[l("确认删除字典"),e("b",null,[t.label])," ",l("？")]),trigger:()=>e(i,{size:"small",type:"error"},{default:()=>[l("删除")]})})]})}],P=[{title:"字典名称",key:"label"},{title:"字典码",key:"code"},{title:"字典值",key:"value"},{title:"操作",key:"actions",align:"center",width:"15em",render:t=>e(u,{justify:"center"},{default:()=>[e(i,{size:"small",onClick:()=>c.value.openModal("edit",t)},{default:()=>[l("编辑")]}),e(x,{onPositiveClick:()=>g(t.id)},{default:()=>e("span",null,[l("确认删除字典值"),e("b",null,[t.label])," ",l("？")]),trigger:()=>e(i,{size:"small",type:"error"},{default:()=>[l("删除")]})})]})}];function g(t){window.$message.error(`删除字典${t}`)}return(t,a)=>{const y=G,k=A,C=K,b=q;return V(),j(o(u),null,{default:n(()=>[F("div",O,[e(b,null,{header:n(()=>[e(o(i),{type:"primary",onClick:a[0]||(a[0]=v=>o(r).openModal("add"))},{icon:n(()=>[e(y)]),default:n(()=>[a[3]||(a[3]=l(" 新建 "))]),_:1})]),"header-extra":n(()=>[e(o(u),null,{default:n(()=>[e(o(i),{type:"primary",secondary:"",onClick:m},{icon:n(()=>[e(k)]),default:n(()=>[a[4]||(a[4]=l(" 刷新 "))]),_:1})]),_:1})]),default:n(()=>[e(C,{columns:E,data:o(f),loading:o(L),pagination:!1,bordered:!1},null,8,["data","loading"])]),_:1})]),F("div",Q,[e(b,null,{header:n(()=>[e(o(i),{type:"primary",disabled:!o(s),onClick:a[1]||(a[1]=v=>o(c).openModal("add"))},{icon:n(()=>[e(y)]),default:n(()=>[a[5]||(a[5]=l(" 新建 "))]),_:1},8,["disabled"])]),"header-extra":n(()=>[e(o(u),null,{default:n(()=>[e(o(i),{type:"primary",disabled:!o(s),secondary:"",onClick:a[2]||(a[2]=v=>p(o(s)))},{icon:n(()=>[e(k)]),default:n(()=>[a[6]||(a[6]=l(" 刷新 "))]),_:1},8,["disabled"])]),_:1})]),default:n(()=>[e(C,{columns:P,data:o(_),loading:o(z),pagination:!1,bordered:!1},null,8,["data","loading"])]),_:1})]),e(D,{ref_key:"dictRef",ref:r,"modal-name":"字典项","is-root":""},null,512),e(D,{ref_key:"dictContentRef",ref:c,"modal-name":"字典值","dict-code":o(s)},null,8,["dict-code"])]),_:1})}}});export{de as default};
