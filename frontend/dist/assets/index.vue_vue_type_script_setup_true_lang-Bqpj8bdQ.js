import{_ as P,a as S}from"./preview-close-one-B3QV7KVT.js";import{d as T,aM as U,aN as x,p as z,r as i,v as I,aO as d,o as L,l as q,b as o,w as t,e as p,t as _,u as a,a as O,i as j,L as D,B as E,M as F}from"./index-Bby_nErz.js";import{a as H}from"./headers-8aILmoTP.js";import{_ as G,a as J}from"./FormItem-KNfBvfja.js";import{_ as K}from"./Checkbox-CFwGEPhd.js";const Q={class:"flex-y-center justify-between"},ne=T({__name:"index",emits:["update:modelValue"],setup(W,{emit:b}){const h=b,k=U();function y(e){h("update:modelValue",e)}const{t:m}=x(),$=z(()=>({account:{required:!0,trigger:"blur",message:m("login.accountRuleTip")},pwd:{required:!0,trigger:"blur",message:m("login.passwordRuleTip")}})),l=i({account:"super",pwd:"123456"}),r=i(!1),u=i(!1),f=i(null);function A(){f.value?.validate(async e=>{if(e)return;u.value=!0;const{account:n,pwd:c}=l.value;r.value?d.set("loginAccount",{account:n,pwd:c}):d.remove("loginAccount"),await k.login(n,c),u.value=!1})}I(()=>{N()});function N(){const e=d.get("loginAccount");e&&(l.value=e,r.value=!0)}return(e,n)=>{const c=H,g=D,v=G,R=P,V=S,B=K,w=E,C=F,M=J;return L(),q("div",null,[o(c,{depth:"3",class:"text-center"},{default:t(()=>[p(_(e.$t("login.signInTitle")),1)]),_:1}),o(M,{ref_key:"formRef",ref:f,rules:a($),model:a(l),"show-label":!1,size:"large"},{default:t(()=>[o(v,{path:"account"},{default:t(()=>[o(g,{value:a(l).account,"onUpdate:value":n[0]||(n[0]=s=>a(l).account=s),clearable:"",placeholder:e.$t("login.accountPlaceholder")},null,8,["value","placeholder"])]),_:1}),o(v,{path:"pwd"},{default:t(()=>[o(g,{value:a(l).pwd,"onUpdate:value":n[1]||(n[1]=s=>a(l).pwd=s),type:"password",placeholder:e.$t("login.passwordPlaceholder"),clearable:"","show-password-on":"click"},{"password-invisible-icon":t(()=>[o(R)]),"password-visible-icon":t(()=>[o(V)]),_:1},8,["value","placeholder"])]),_:1}),o(C,{vertical:"",size:20},{default:t(()=>[O("div",Q,[o(B,{checked:a(r),"onUpdate:checked":n[2]||(n[2]=s=>j(r)?r.value=s:null)},{default:t(()=>[p(_(e.$t("login.rememberMe")),1)]),_:1},8,["checked"]),o(w,{type:"primary",text:"",onClick:n[3]||(n[3]=s=>y("resetPwd"))},{default:t(()=>[p(_(e.$t("login.forgotPassword")),1)]),_:1})]),o(w,{block:"",type:"primary",size:"large",loading:a(u),disabled:a(u),onClick:A},{default:t(()=>[p(_(e.$t("login.signIn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["rules","model"])])}}});export{ne as _};
