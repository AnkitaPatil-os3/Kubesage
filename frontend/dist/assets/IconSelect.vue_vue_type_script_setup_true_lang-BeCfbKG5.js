import{d as Z,bq as ee,aK as ne,ay as h,v as te,r as P,p as V,o,l as b,b as n,w as t,c as v,m as A,e as I,t as z,u as r,F as y,x as L,i as N,a as ae,hd as oe,hc as le,B as se,L as ce,aA as re,_ as ue,aC as ie,he as _e,N as pe,a7 as de,hf as me,hg as ve,hh as ge,hi as fe,hj as he}from"./index-Bby_nErz.js";import{_ as be}from"./Pagination-CMuqSNax.js";const we=Z({__name:"IconSelect",props:ee({disabled:{type:Boolean,default:!1}},{value:{type:String},valueModifiers:{}}),emits:["update:value"],setup(E){const g=ne(E,"value"),F=["icon-park-outline","carbon"];async function O(e){return await fetch(`https://api.iconify.design/collection?prefix=${e}`).then(a=>a.json())}async function R(e){const a=e.map(l=>O(l));return(await Promise.all(a)).map(l=>(l.icons=Object.entries(l.categories).reduce((x,S)=>{const[C,i]=S;return x.concat(i)},[]),l))}function q(e){const a=/\/([^/]+)\.svg$/,u=e.match(a);return u?u[1]:e}function D(){return oe(Object.assign({"/src/assets/svg-icons/cool.svg":ge,"/src/assets/svg-icons/logo.svg":fe,"/src/assets/svg-icons/logo1.svg":he}),(a,u)=>[q(a),u])}const $=h([]),T=h({});te(async()=>{$.value=await R(F),T.value=D()});const k=h(0),_=h("");function K(e){k.value=e,_.value=""}const w=P(""),p=h(1);function G(e){_.value=_.value===e?"":e,p.value=1}const B=V(()=>_.value?$.value[k.value]?.categories[_.value]:$.value[k.value].icons),U=V(()=>B.value?.filter(e=>e.includes(w.value))?.slice((p.value-1)*200,p.value*200)),d=P(!1);function j(e){g.value=e,d.value=!1}function H(){g.value="",d.value=!1}return(e,a)=>{const u=le,l=se,x=ce,S=re,C=ue,i=ie,M=_e,J=pe,Q=de,W=be,X=me,Y=ve;return o(),b(y,null,[n(S,{disabled:""},{default:t(()=>[g.value?(o(),v(l,{key:0,disabled:e.disabled,type:"primary"},{icon:t(()=>[n(u,{icon:g.value},null,8,["icon"])]),_:1},8,["disabled"])):A("",!0),n(x,{value:g.value,readonly:"",placeholder:e.$t("components.iconSelector.inputPlaceholder")},null,8,["value","placeholder"]),n(l,{type:"primary",ghost:"",disabled:e.disabled,onClick:a[0]||(a[0]=s=>d.value=!0)},{default:t(()=>[I(z(e.$t("common.choose")),1)]),_:1},8,["disabled"])]),_:1}),n(Y,{show:r(d),"onUpdate:show":a[3]||(a[3]=s=>N(d)?d.value=s:null),preset:"card",title:e.$t("components.iconSelector.selectorTitle"),size:"small",class:"w-800px",bordered:!1},{"header-extra":t(()=>[n(l,{type:"warning",size:"small",ghost:"",onClick:H},{default:t(()=>[I(z(e.$t("components.iconSelector.clearIcon")),1)]),_:1})]),default:t(()=>[n(X,{value:r(k),type:"line",animated:"",placement:"left","onUpdate:value":K},{default:t(()=>[n(M,{name:"local",tab:"local"},{default:t(()=>[n(i,{size:2},{default:t(()=>[(o(!0),b(y,null,L(r(T),(s,m)=>(o(),v(C,{key:m,class:"hover:text-[var(--primary-color)] hover:ring-1 ring-[var(--primary-color)] p-1 rounded flex-center",title:`local:${m}`,onClick:c=>j(`local:${m}`)},{default:t(()=>[n(u,{icon:`local:${m}`,size:24},null,8,["icon"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1}),(o(!0),b(y,null,L(r($),(s,m)=>(o(),v(M,{key:s.prefix,name:m,tab:s.title},{default:t(()=>[n(i,{vertical:""},{default:t(()=>[n(i,{size:"small"},{default:t(()=>[(o(!0),b(y,null,L(s.categories,(c,f)=>(o(),v(J,{key:f,checked:r(_)===f,round:"",checkable:"",size:"small","onUpdate:checked":ye=>G(f)},{default:t(()=>[I(z(f),1)]),_:2},1032,["checked","onUpdate:checked"]))),128))]),_:2},1024),n(x,{value:r(w),"onUpdate:value":a[1]||(a[1]=c=>N(w)?w.value=c:null),type:"text",clearable:"",placeholder:e.$t("components.iconSelector.searchPlaceholder")},null,8,["value","placeholder"]),ae("div",null,[n(i,{size:2},{default:t(()=>[(o(!0),b(y,null,L(r(U),c=>(o(),v(C,{key:c,class:"hover:text-[var(--primary-color)] hover:ring-1 ring-[var(--primary-color)] p-1 rounded flex-center",title:`${s.prefix}:${c}`,onClick:f=>j(`${s.prefix}:${c}`)},{default:t(()=>[n(u,{icon:`${s.prefix}:${c}`,size:24},null,8,["icon"])]),_:2},1032,["title","onClick"]))),128)),r(U).length===0?(o(),v(Q,{key:0,class:"w-full"})):A("",!0)]),_:2},1024)]),n(i,{justify:"center"},{default:t(()=>[n(W,{page:r(p),"onUpdate:page":a[2]||(a[2]=c=>N(p)?p.value=c:null),"item-count":r(B)?.length,"page-size":200},null,8,["page","item-count"])]),_:1})]),_:2},1024)]),_:2},1032,["name","tab"]))),128))]),_:1},8,["value"])]),_:1},8,["show","title"])],64)}}});export{we as _};
