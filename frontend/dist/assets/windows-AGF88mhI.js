import{_ as P,r as n,s as N,o as i,c as g,w as o,e as s,f as _,v as h,i as b,a as A,F as S,q as F,I,hi as M,B as C,l as R}from"./index-BdUTWwbS.js";import{N as T}from"./text-BSS4Ztby.js";import{_ as V,a as W}from"./FormItem-HvJ2BmDO.js";const j={class:"flex justify-between mt-4"},q={__name:"windows",setup(D){const a=n({ipAdr:"",serverUser:"",serverPass:""}),x=n(null),t=n(!1),c=N(),r=n(""),u=n(""),v=()=>{a.value={ipAdr:"",serverUser:"",serverPass:""}},m=async()=>{t.value=!0,r.value="",u.value="";try{const f=await F.post("http://172.16.1.56:8000/api/v3/onboardWindow/",a.value);r.value="Bootstrapping is successful",c.success(r.value)}catch{u.value="Bootstrapping process failed. Try again.",c.error(u.value)}finally{t.value=!1,v()}};return(f,e)=>{const y=T,d=I,p=V,U=M,w=C,B=W,k=R;return i(),g(k,{class:"p-6 rounded-lg shadow-md"},{default:o(()=>[s(y,{class:"text-2xl font-bold"},{default:o(()=>e[3]||(e[3]=[_(" Bootstrap the Windows server ")])),_:1}),s(B,{onSubmit:h(m,["prevent"]),model:a.value,ref_key:"formRef",ref:x},{default:o(()=>[s(p,{label:"Server IP",path:"ipAdr"},{default:o(()=>[s(d,{value:a.value.ipAdr,"onUpdate:value":e[0]||(e[0]=l=>a.value.ipAdr=l),placeholder:"0.0.0.0",class:"w-full"},null,8,["value"])]),_:1}),s(p,{label:"Server Username",path:"serverUser"},{default:o(()=>[s(d,{value:a.value.serverUser,"onUpdate:value":e[1]||(e[1]=l=>a.value.serverUser=l),placeholder:"Username",class:"w-full"},null,8,["value"])]),_:1}),s(p,{label:"Server Password",path:"serverPass"},{default:o(()=>[s(d,{value:a.value.serverPass,"onUpdate:value":e[2]||(e[2]=l=>a.value.serverPass=l),type:"password","show-password-on":"mousedown",placeholder:"Password",class:"w-full"},null,8,["value"])]),_:1}),b("div",j,[s(w,{type:"primary",onClick:m,loading:t.value,class:"w-full md:w-auto"},{default:o(()=>[t.value?(i(),g(U,{key:0},{default:o(()=>e[4]||(e[4]=[b("i",{class:"n-icon-loading"},null,-1)])),_:1})):(i(),A(S,{key:1},[_("Submit")],64))]),_:1},8,["loading"]),s(w,{onClick:v,disabled:t.value,class:"w-full md:w-auto",ghost:""},{default:o(()=>e[5]||(e[5]=[_("Reset")])),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1})}}},G=P(q,[["__scopeId","data-v-d75bd353"]]);export{G as default};
