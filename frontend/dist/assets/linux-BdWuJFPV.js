import{r as d,s as B,o as _,c as v,w as o,e as a,f as m,v as T,i as n,a as h,F as N,q as k,I as E,ay as R,hi as A,B as F,l as L}from"./index-BdUTWwbS.js";import{N as H}from"./text-BSS4Ztby.js";import{_ as C,a as I}from"./FormItem-HvJ2BmDO.js";const O={class:"w-full md:w-1/2"},V={class:"w-full md:w-1/2"},q={class:"w-full md:w-1/2"},M={class:"flex justify-between mt-4"},G={__name:"linux",setup($){const s=d({ipAdr:"",serverUser:"",serverPass:"",osType:"Ubuntu"}),f=d(null),r=d(!1),g=[{label:"RHEL",value:"RHEL"},{label:"Centos",value:"Centos"},{label:"RedHat",value:"RedHat"},{label:"Fadora",value:"Fadora"},{label:"Ubuntu",value:"Ubuntu"},{label:"SUSE Linux",value:"SUSE Linux"}],u=B(),w=()=>{s.value={ipAdr:"",serverUser:"",serverPass:"",osType:"Ubuntu"}},c=async()=>{r.value=!0;try{const l=await k.post("http://172.16.1.56:8000/api/v3/onboard/",s.value);u.success("Bootstrapping is successful"),console.log("API RESPONSE",l)}catch(l){l.response?u.error(`Bootstrapping process failed: ${l.response.data.message||"Try again."}`):l.request?u.error("Bootstrapping process failed: No response from server. Please try again."):u.error(`Bootstrapping process failed: ${l.message}. Please try again.`)}finally{r.value=!1,w()}};return(l,e)=>{const b=H,i=E,p=C,y=R,U=A,S=F,x=I,P=L;return _(),v(P,{class:"p-6 rounded-lg shadow-md"},{default:o(()=>[a(b,{class:"text-2xl font-bold"},{default:o(()=>e[4]||(e[4]=[m(" Bootstrap the Linux Server ")])),_:1}),a(x,{onSubmit:T(c,["prevent"]),model:s.value,ref_key:"formRef",ref:f},{default:o(()=>[a(p,{label:"Server IP/Hostname",path:"ipAdr"},{default:o(()=>[n("div",O,[a(i,{value:s.value.ipAdr,"onUpdate:value":e[0]||(e[0]=t=>s.value.ipAdr=t),placeholder:"0.0.0.0"},null,8,["value"])])]),_:1}),a(p,{label:"Server Username",path:"serverUser"},{default:o(()=>[n("div",V,[a(i,{value:s.value.serverUser,"onUpdate:value":e[1]||(e[1]=t=>s.value.serverUser=t),placeholder:"Username"},null,8,["value"])])]),_:1}),a(p,{label:"Server Password",path:"serverPass"},{default:o(()=>[n("div",q,[a(i,{value:s.value.serverPass,"onUpdate:value":e[2]||(e[2]=t=>s.value.serverPass=t),"show-password-on":"mousedown",placeholder:"Password",type:"password"},null,8,["value"])])]),_:1}),a(p,{label:"OS Type",path:"osType"},{default:o(()=>[a(y,{value:s.value.osType,"onUpdate:value":e[3]||(e[3]=t=>s.value.osType=t),options:g,placeholder:"Select OS Type",class:"w-full md:w-1/2"},null,8,["value"])]),_:1}),n("div",M,[a(S,{type:"primary",onClick:c,loading:r.value,class:"w-full md:w-auto"},{default:o(()=>[r.value?(_(),v(U,{key:0},{default:o(()=>e[5]||(e[5]=[n("i",{class:"n-icon-loading"},null,-1)])),_:1})):(_(),h(N,{key:1},[m("Submit")],64))]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})}}};export{G as default};
